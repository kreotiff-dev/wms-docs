# Начало работы

## Введение

Этот раздел поможет вам быстро начать работу с StorageFlow. Здесь описаны шаги по установке, настройке и базовому использованию системы управления складом.

## Требования

Перед началом работы убедитесь, что ваша система соответствует следующим требованиям:

- Node.js (версия 16.x или выше)
- MongoDB (версия 5.0 или выше)
- npm или yarn
- Git (опционально, для клонирования репозитория)

## Установка

### Шаг 1: Клонирование репозитория

```bash
git clone https://github.com/your-organization/storage-flow.git
cd storage-flow
```

Если у вас нет Git, вы можете скачать архив с исходным кодом и распаковать его.

### Шаг 2: Установка зависимостей

```bash
npm install
# или
yarn install
```

### Шаг 3: Настройка окружения

Создайте файл `.env` в корневой директории проекта:

```
PORT=3000
MONGO_URI=mongodb://localhost:27017/storage-flow
```

Настройте подключение к MongoDB в соответствии с вашей конфигурацией.

### Шаг 4: Запуск приложения

#### Режим разработки

```bash
npm run dev
# или
yarn dev
```

#### Производственный режим

```bash
npm start
# или
yarn start
```

После запуска приложение будет доступно по адресу: `http://localhost:3000`

Документация API будет доступна по адресам:

- Swagger UI: `http://localhost:3000/api-docs/swagger`
- Redoc: `http://localhost:3000/api-docs`

## Первичная настройка

### Создание базовых ячеек склада

Для создания базовой структуры ячеек склада, выполните следующие API-запросы:

```bash
# Создание ячейки в зоне A
curl -X POST http://localhost:3000/wms/v1/locations \
  -H "Content-Type: application/json" \
  -d '{
    "barcode": "LOC-A01-01-01",
    "zone": "A",
    "aisle": "01",
    "rack": "01",
    "level": "01",
    "position": "01",
    "capacity": 100
  }'

# Создание ячейки в зоне B
curl -X POST http://localhost:3000/wms/v1/locations \
  -H "Content-Type: application/json" \
  -d '{
    "barcode": "LOC-B01-01-01",
    "zone": "B",
    "aisle": "01",
    "rack": "01",
    "level": "01",
    "position": "01",
    "capacity": 150
  }'
```

### Создание тележек для сборки и размещения

```bash
# Создание тележки для сборки
curl -X POST http://localhost:3000/wms/v1/picking-carts \
  -H "Content-Type: application/json" \
  -d '{}'

# Создание тележки для размещения
curl -X POST http://localhost:3000/wms/v1/placement-carts \
  -H "Content-Type: application/json" \
  -d '{}'
```

### Добавление товаров в каталог

```bash
curl -X POST http://localhost:3000/wms/v1/products \
  -H "Content-Type: application/json" \
  -d '{
    "sku": "PROD-001",
    "productId": "EXT-001",
    "name": "Смартфон XYZ",
    "barcode": "4607123456789",
    "category": "Электроника",
    "dimensions": {
      "length": 15,
      "width": 7.5,
      "height": 1.5,
      "weight": 0.2
    }
  }'
```

## Базовые операции

### Приемка товаров

1. Создайте накладную:

```bash
curl -X POST http://localhost:3000/wms/v1/receiving \
  -H "Content-Type: application/json" \
  -d '{
    "invoiceNumber": "INV-12345",
    "barcode": "4607123456780",
    "items": [
      {
        "id": "item-001",
        "productId": "EXT-001",
        "sku": "PROD-001",
        "name": "Смартфон XYZ",
        "barcode": "4607123456789",
        "expectedQuantity": 10
      }
    ]
  }'
```

2. Последовательно выполните этапы приемки через API (см. раздел "Примеры использования API")

### Создание и обработка заказа

1. Создайте заказ:

```bash
curl -X POST http://localhost:3000/wms/v1/orders \
  -H "Content-Type: application/json" \
  -d '{
    "orderNumber": "ORD-12345",
    "customer": {
      "name": "Иван Иванов",
      "address": "г. Москва, ул. Примерная, д. 1",
      "phone": "+7 999 123-45-67",
      "email": "example@example.com"
    },
    "items": [
      {
        "sku": "PROD-001",
        "quantity": 2
      }
    ]
  }'
```

2. Последовательно выполните этапы резервирования, сборки, упаковки и отгрузки через API (см. раздел "Примеры использования API")

## Проверка работоспособности

Чтобы убедиться, что система работает корректно, выполните следующие проверки:

1. Откройте документацию API: `http://localhost:3000/api-docs`
2. Получите список всех товаров: `GET /wms/v1/products`
3. Получите список всех ячеек: `GET /wms/v1/locations`
4. Проверьте статус сервера: `GET /health` (если настроен)

## Устранение неполадок

### Проблемы с подключением к MongoDB

Если возникают проблемы при подключении к MongoDB:

1. Убедитесь, что MongoDB запущена: `sudo systemctl status mongodb`
2. Проверьте строку подключения в файле `.env`
3. Проверьте логи сервера на наличие ошибок

### Ошибки запуска API

Если API не запускается:

1. Проверьте, что все зависимости установлены: `npm install`
2. Убедитесь, что порт не занят другим приложением
3. Проверьте логи на наличие ошибок

## Дальнейшие шаги

Теперь, когда базовая настройка завершена, вы можете:

1. Настроить структуру склада, создав дополнительные ячейки
2. Добавить товары в каталог
3. Настроить интеграцию с внешними системами
4. Изучить API для автоматизации процессов

Для получения дополнительной информации обратитесь к соответствующим разделам документации.
