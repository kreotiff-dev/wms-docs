# Сборка заказов

## Обзор процесса

Сборка заказов (picking) — это процесс извлечения товаров из мест хранения для комплектации заказов клиентов. Этот процесс является одним из ключевых в работе склада и напрямую влияет на скорость выполнения заказов, точность комплектации и эффективность использования ресурсов. StorageFlow обеспечивает оптимизацию маршрутов сборки, контроль точности и эффективное использование рабочей силы.

## Участники процесса

- **Менеджер склада**: создает и назначает задания на сборку
- **Сборщик (picker)**: выполняет физическую сборку товаров по заданию
- **Система WMS**: оптимизирует маршрут сборки, контролирует точность и эффективность процесса
- **Супервизор**: контролирует качество сборки и решает проблемные ситуации

## Диаграмма процесса

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│   Создание      │     │   Назначение    │     │   Подготовка    │
│   задания на    ├────►│   тележки       ├────►│   к сборке      │
│   сборку        │     │   сборки        │     │                 │
└─────────────────┘     └─────────────────┘     └────────┬────────┘
                                                         │
                                                         ▼
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│   Перемещение   │     │   Извлечение    │     │   Сканирование  │
│   к ячейке      ├────►│   товара        ├────►│   товара        │
│                 │     │                 │     │                 │
└─────────────────┘     └─────────────────┘     └────────┬────────┘
                                                         │
                                                         ▼
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│   Завершение    │     │   Проверка      │     │   Размещение    │
│   задания       │◄────┤   собранных     │◄────┤   в тележку     │
│                 │     │   товаров       │     │                 │
└─────────────────┘     └─────────────────┘     └─────────────────┘
```

## Шаги процесса

### 1. Создание задания на сборку

**Описание**: Формирование задания для сборки одного или нескольких заказов.

**Действия**:

- Резервирование товаров для заказов
- Объединение нескольких заказов в одно задание для оптимизации
- Определение приоритета и последовательности сборки

**API Endpoint**: `POST /wms/v1/picking`

**Входные данные**:

```json
{
  "orderIds": ["60d21b4667d0d8992e610c88", "60d21b4667d0d8992e610c89"],
  "assignedTo": "emp-001"
}
```

**Выходные данные**: Созданное задание на сборку

**Статус задания после шага**: `created`

### 2. Назначение тележки сборки

**Описание**: Привязка тележки сборки к заданию для размещения собираемых товаров.

**Действия**:

- Выбор доступной тележки
- Назначение тележки к заданию на сборку
- Подтверждение начала сборки

**API Endpoint**: `POST /wms/v1/picking/{id}/start`

**Входные данные**:

```json
{
  "pickingCartId": "60d21b4667d0d8992e610c92"
}
```

**Выходные данные**: Обновленное задание на сборку и информация о тележке

**Статус задания после шага**: `in_progress`
**Статус тележки после шага**: `assigned`

### 3. Подготовка к сборке

**Описание**: Система определяет оптимальный маршрут сборки, сборщик готовится к выполнению задания.

**Действия системы**:

- Расчет оптимального маршрута сборки
- Сортировка товаров по местоположению
- Определение последовательности сборки

**Действия сборщика**:

- Получение информации о задании через терминал сбора данных
- Подготовка необходимого оборудования
- Ознакомление с маршрутом сборки

**Оптимизация маршрута**:

- Минимизация перемещений (wave picking)
- Группировка товаров по зонам
- Учет специфических требований к обработке товаров

### 4. Перемещение к ячейке

**Описание**: Сборщик перемещается к ячейке, где находится нужный товар, следуя указаниям системы.

**Действия**:

- Получение информации о местоположении следующего товара
- Перемещение к указанной ячейке
- Подтверждение прибытия в правильную ячейку

**API Endpoint**: `POST /wms/v1/picking/{id}/scan-location`

**Входные данные**:

```json
{
  "locationBarcode": "LOC-A01-01-01",
  "pickingItemId": "60d21b4667d0d8992e610c91"
}
```

**Выходные данные**: Подтверждение корректности ячейки

**Статус элемента сборки после шага**: `in_progress`

### 5. Извлечение товара

**Описание**: Сборщик извлекает требуемое количество товара из ячейки.

**Действия**:

- Проверка соответствия товара требуемому
- Извлечение указанного количества
- Проверка качества и целостности товара

**Проверки**:

- Соответствие SKU и описания
- Соответствие внешнего вида и упаковки
- Отсутствие видимых повреждений

### 6. Сканирование товара

**Описание**: Сборщик сканирует штрихкод товара для подтверждения правильности сборки.

**Действия**:

- Сканирование штрихкода товара
- Подтверждение количества собираемого товара
- Регистрация сборки в системе

**API Endpoint**: `POST /wms/v1/picking/{id}/pick`

**Входные данные**:

```json
{
  "pickingItemId": "60d21b4667d0d8992e610c91",
  "quantity": 2,
  "pickingCartId": "60d21b4667d0d8992e610c92"
}
```

**Выходные данные**: Информация о собранном товаре, оставшемся количестве и статусе тележки

### 7. Размещение в тележку

**Описание**: Сборщик помещает собранный товар в тележку сборки.

**Действия**:

- Аккуратное размещение товара в тележке
- Организация товаров в тележке по заказам (при мульти-заказовом сборе)
- Подготовка к сбору следующего товара

**Статус тележки после нескольких сборок**: `in_use`

### 8. Проверка собранных товаров

**Описание**: По завершении сборки всех товаров проводится финальная проверка.

**Действия**:

- Проверка соответствия собранных товаров спецификации
- Проверка количества и качества собранных товаров
- Подтверждение завершения сборки

**Типы проверок**:

- **Визуальная проверка**: сравнение с списком
- **Сканирование**: проверка с помощью ТСД
- **Взвешивание**: контроль веса (для определенных товаров)

### 9. Завершение задания

**Описание**: Завершение задания на сборку и подготовка к передаче на упаковку.

**Действия**:

- Подтверждение завершения сборки в системе
- Передача тележки на станцию упаковки
- Фиксация времени и результатов сборки

**Автоматическое завершение**: Когда все товары в задании собраны, система автоматически меняет статус задания на `completed`

**Статус задания после шага**: `completed`
**Статус тележки после шага**: `complete`

## Методы сборки заказов

### Сборка по заказам (Discrete Order Picking)

**Описание**: Сборка всех товаров одного заказа от начала до конца.

**Преимущества**:

- Простота организации
- Минимальная вероятность ошибок смешивания
- Легкий контроль выполнения

**Недостатки**:

- Неэффективное использование ресурсов при большом количестве заказов
- Многократные перемещения по одним и тем же маршрутам

**Рекомендуется для**:

- Небольших складов
- Нечастых заказов
- Сложных или специфичных заказов

### Волновая сборка (Wave Picking)

**Описание**: Одновременная сборка нескольких заказов с группировкой по зонам или типам товаров.

**Преимущества**:

- Эффективное использование ресурсов
- Уменьшение перемещений
- Повышение производительности

**Недостатки**:

- Требуется дополнительная сортировка
- Возможность ошибок при распределении товаров по заказам

**Рекомендуется для**:

- Средних и крупных складов
- Большого количества заказов
- Повторяющихся товаров в разных заказах

### Зонная сборка (Zone Picking)

**Описание**: Каждый сборщик работает в определенной зоне склада.

**Преимущества**:

- Специализация сборщиков
- Сокращение расстояний перемещения
- Повышение эффективности при больших объемах

**Недостатки**:

- Требуется координация между зонами
- Возможны задержки при передаче между зонами

**Рекомендуется для**:

- Крупных складов с четким зонированием
- Складов с разнообразным ассортиментом
- Высокого объема операций

## Технологии, используемые при сборке

### Терминалы сбора данных (ТСД)

**Преимущества**:

- Мобильность и легкость использования
- Быстрая проверка данных в режиме реального времени
- Минимизация ошибок благодаря сканированию

**Функциональность**:

- Отображение заданий и маршрутов сборки
- Сканирование штрихкодов ячеек и товаров
- Ввод собранного количества
- Уведомления о несоответствиях

### Pick-to-Light

**Описание**: Система световых индикаторов, указывающих ячейки с товарами и количество для сборки.

**Преимущества**:

- Высокая скорость сборки
- Минимальные требования к обучению персонала
- Снижение количества ошибок

**Ограничения**:

- Высокая стоимость внедрения
- Фиксированная структура стеллажей

### Voice Picking

**Описание**: Голосовое управление процессом сборки через гарнитуру.

**Преимущества**:

- Работа без использования рук
- Высокая скорость обработки информации
- Снижение утомляемости персонала

**Ограничения**:

- Чувствительность к шуму
- Требуется обучение системы распознавания голоса

## Обработка исключительных ситуаций

### Товар не найден в указанной ячейке

**Сценарий**: Сборщик не может найти требуемый товар в указанной системой ячейке.

**Решение**:

1. Проверка правильности ячейки и SKU
2. Поиск товара в соседних ячейках
3. Уведомление супервизора
4. Переход к следующему товару с пометкой "не найден"

**API для пропуска товара**:

```bash
curl -X POST http://localhost:3000/wms/v1/picking/{id}/skip-item \
  -H "Content-Type: application/json" \
  -d '{
    "pickingItemId": "60d21b4667d0d8992e610c91",
    "reason": "item_not_found"
  }'
```

### Недостаточное количество товара

**Сценарий**: В ячейке находится меньше товара, чем требуется для сборки.

**Решение**:

1. Сбор доступного количества
2. Регистрация фактически собранного количества
3. Система автоматически создает задание на дополнительную сборку из другой ячейки
4. Проведение инвентаризации ячейки

**API для частичной сборки**:

```bash
curl -X POST http://localhost:3000/wms/v1/picking/{id}/pick \
  -H "Content-Type: application/json" \
  -d '{
    "pickingItemId": "60d21b4667d0d8992e610c91",
    "quantity": 1,  // Меньше чем требуется
    "pickingCartId": "60d21b4667d0d8992e610c92",
    "partialPicking": true
  }'
```

### Обнаружение поврежденного товара

**Сценарий**: При сборке обнаружен поврежденный товар.

**Решение**:

1. Отметка товара как поврежденного
2. Перемещение в зону брака
3. Сборка неповрежденных единиц
4. Регистрация инцидента для анализа

**API для регистрации повреждения**:

```bash
curl -X POST http://localhost:3000/wms/v1/inventory/damage-report \
  -H "Content-Type: application/json" \
  -d '{
    "sku": "PROD-001",
    "locationId": "60d21b4667d0d8992e610c85",
    "quantity": 1,
    "damageType": "packaging_damage",
    "notes": "Повреждена упаковка товара"
  }'
```

## Метрики и KPI

### Основные показатели эффективности

1. **Производительность сборки**:

   - Количество собранных товаров в час
   - Целевое значение: зависит от типа товара и склада
   - Формула: количество собранных единиц / затраченное время (часы)

2. **Точность сборки**:

   - Процент заказов без ошибок
   - Целевое значение: > 99.5%
   - Формула: (общее количество заказов - количество заказов с ошибками) / общее количество заказов × 100%

3. **Время выполнения заказа**:

   - Среднее время от создания задания до завершения сборки
   - Целевое значение: < 2 часа для стандартных заказов
   - Формула: сумма времени выполнения всех заданий / количество заданий

4. **Эффективность перемещений**:

   - Среднее расстояние, пройденное на единицу товара
   - Целевое значение: зависит от планировки склада
   - Формула: общее пройденное расстояние / количество собранных единиц

5. **Коэффициент выполнения норм**:
   - Отношение фактической производительности к нормативной
   - Целевое значение: > 95%
   - Формула: фактическая производительность / плановая производительность × 100%

### Дополнительные метрики

1. **Среднее время простоя**:

   - Время, когда сборщик не выполняет сборку
   - Целевое значение: < 10% от рабочего времени

2. **Коэффициент использования оборудования**:

   - Процент времени, в течение которого оборудование используется
   - Целевое значение: > 85%

3. **Процент вовремя выполненных заказов**:

   - Доля заказов, собранных в срок
   - Целевое значение: > 98%

4. **Стоимость сборки единицы товара**:
   - Затраты на сборку в расчете на одну единицу
   - Целевое значение: зависит от типа товара и процессов

### Отслеживание метрик

Система StorageFlow предоставляет следующие инструменты для отслеживания и анализа метрик процесса сборки:

1. **Панель мониторинга в реальном времени**:

   - Отображение текущих задач и их статусов
   - Производительность сборщиков
   - Прогресс выполнения заданий

2. **Ежедневные отчеты**:

   - Сводка выполненных заданий
   - Показатели эффективности по сотрудникам
   - Выявленные проблемы и узкие места

3. **Еженедельные и ежемесячные аналитические отчеты**:
   - Тренды производительности
   - Анализ причин ошибок
   - Рекомендации по оптимизации

## Интеграция с другими процессами

### Связь с процессом управления заказами

1. **Приоритизация заказов**:

   - Определение последовательности сборки на основе приоритета заказов
   - Учет сроков доставки и VIP-клиентов
   - Интеграция с системой управления заказами

2. **Статус выполнения заказа**:
   - Обновление статуса заказа после завершения сборки
   - Уведомление клиента о прогрессе выполнения заказа
   - Интеграция с системой уведомлений

### Связь с процессом упаковки

1. **Передача данных**:

   - Автоматическое создание задания на упаковку после завершения сборки
   - Передача информации о собранных товарах
   - Отметка особых требований к упаковке

2. **Маршрутизация тележек**:
   - Направление заполненных тележек на соответствующие станции упаковки
   - Оптимизация потока товаров между сборкой и упаковкой

### Связь с управлением запасами

1. **Обновление инвентаря**:

   - Автоматическое списание собранных товаров из инвентаря
   - Инициирование процесса пополнения при достижении минимального уровня запасов

2. **Выявление расхождений**:
   - Регистрация несоответствий между учетным и фактическим количеством
   - Инициирование инвентаризации проблемных ячеек

## Оптимизация процесса сборки

### Стратегии оптимизации маршрутов

1. **S-образный маршрут**:

   - Движение по проходам змейкой
   - Минимизация времени на повороты и развороты
   - Эффективен для складов с параллельными проходами

2. **Зонирование**:

   - Разделение склада на зоны по категориям товаров
   - Назначение сборщиков на конкретные зоны
   - Снижение времени перемещения

3. **Batch-picking**:

   - Одновременный сбор товаров для нескольких заказов
   - Уменьшение количества проходов по складу
   - Повышение производительности на 30-40%

4. **Wave-picking**:
   - Группировка заказов по временным интервалам
   - Оптимизация использования ресурсов склада
   - Сглаживание пиковых нагрузок

### Технологические улучшения

1. **Автоматизация**:

   - Внедрение автоматических систем хранения и извлечения (AS/RS)
   - Использование конвейерных систем
   - Применение роботов для сборки стандартных товаров

2. **Мобильные технологии**:

   - Переход на носимые устройства (наручные сканеры, smart-очки)
   - Внедрение voice-picking систем
   - Использование дополненной реальности для навигации

3. **Аналитика и машинное обучение**:
   - Прогнозирование пиковых нагрузок
   - Динамическая оптимизация размещения товаров на основе частоты заказов
   - Предиктивное пополнение ячеек

### Организационные улучшения

1. **Мотивация персонала**:

   - Разработка системы KPI и премирования
   - Геймификация процесса сборки
   - Обучение и развитие персонала

2. **Оптимизация зон хранения**:

   - Размещение часто заказываемых товаров в удобных зонах (ABC-анализ)
   - Группировка товаров, часто заказываемых вместе
   - Сезонная реорганизация зон хранения

3. **Стандартизация процессов**:
   - Разработка и внедрение стандартных операционных процедур
   - Регулярный аудит процессов
   - Программы непрерывного улучшения

## Примеры использования API

### Создание задания на сборку

```bash
curl -X POST http://localhost:3000/wms/v1/picking \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXCJ9..." \
  -d '{
    "orderIds": ["60d21b4667d0d8992e610c88", "60d21b4667d0d8992e610c89"],
    "assignedTo": "emp-001"
  }'
```

### Получение списка заданий на сборку

```bash
curl -X GET http://localhost:3000/wms/v1/picking?status=in_progress \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXCJ9..."
```

### Начало сборки

```bash
curl -X POST http://localhost:3000/wms/v1/picking/60d21b4667d0d8992e610c90/start \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXCJ9..." \
  -d '{
    "pickingCartId": "60d21b4667d0d8992e610c92"
  }'
```

### Сканирование ячейки

```bash
curl -X POST http://localhost:3000/wms/v1/picking/60d21b4667d0d8992e610c90/scan-location \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXCJ9..." \
  -d '{
    "locationBarcode": "LOC-A01-01-01",
    "pickingItemId": "60d21b4667d0d8992e610c91"
  }'
```

### Сборка товара

```bash
curl -X POST http://localhost:3000/wms/v1/picking/60d21b4667d0d8992e610c90/pick \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer eyJhbGciOiJIUzI5cCI6IkpXCJ9..." \
  -d '{
    "pickingItemId": "60d21b4667d0d8992e610c91",
    "quantity": 2,
    "pickingCartId": "60d21b4667d0d8992e610c92"
  }'
```

## Рекомендации по эффективному внедрению

1. **Поэтапное внедрение**:

   - Начните с пилотного проекта на небольшом участке склада
   - Постепенно масштабируйте успешные практики
   - Собирайте и анализируйте обратную связь от сотрудников

2. **Обучение персонала**:

   - Проведите детальное обучение работе с системой
   - Разработайте наглядные инструкции и руководства
   - Назначьте наставников для новых сотрудников

3. **Регулярная оптимизация**:

   - Проводите периодический анализ эффективности процессов
   - Внедряйте улучшения на основе собранных данных
   - Адаптируйте процессы к сезонным изменениям спроса

4. **Интеграция с другими системами**:
   - Обеспечьте бесшовную интеграцию с системой управления заказами
   - Синхронизируйте данные с системой управления запасами
   - Интегрируйте с системой прогнозирования спроса

## Заключение

Эффективный процесс сборки заказов является ключевым фактором успеха складской логистики. Правильно организованный процесс позволяет:

1. Сократить время выполнения заказов
2. Повысить точность комплектации
3. Оптимизировать использование рабочей силы и оборудования
4. Улучшить удовлетворенность клиентов
5. Снизить операционные затраты

Система StorageFlow предоставляет все необходимые инструменты для организации эффективного процесса сборки с учетом особенностей вашего бизнеса и склада.
